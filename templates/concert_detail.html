{% extends "base.html" %}

{% block title %}{{ concert.concert_name }} - Details{% endblock %} 

{% block page_title %} Concert Detail {% endblock %}

{% block extra_css %}
<!-- 引入独立的 concert.css 样式文件 -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/concert_detail.css') }}">
{% endblock %}

{% block content %}
<div class="concert-details-container">
    <div class="concert-details-card">
        <div class="concert-details-image">
            <img src="{{ concert.cover_image_url }}" alt="{{ concert.concert_name }} Cover" class="concert-image" />
        </div>
        <div class="concert-details-info">
            <h1>{{ concert.concert_name }}</h1>
            <p><strong>Artist:</strong> {{ concert.artist }}</p>
            <p><strong>Venue:</strong> {{ concert.venue }}</p>
            <p><strong>City:</strong> {{ concert.city }}</p>
            <p>
                <strong>Date:</strong> {{ concert.concert_date.strftime('%d %B %Y') }}
            </p>

            <!-- 选择票数和票种 -->
            <form id="concertPurchaseForm" class="ticket-form">
                <label for="ticketType">Select Ticket Type:</label>
                <select id="ticketType" name="ticketType" required>
                    <option value="VIP">VIP - ${{ concert.vip_ticket_price }}</option>
                    <option value="regular">
                        Regular - ${{ concert.regular_ticket_price }}
                    </option>
                </select>

                <label for="ticketQuantity">Select Quantity:</label>
                <input type="number" id="ticketQuantity" name="ticketQuantity" min="1" max="10" value="1" required />

                <button type="submit" class="buy-button">Buy Tickets</button>
            </form>

            <div id="purchaseMessage"></div>
        </div>
    </div>
</div>
<!-- 在某个元素上存储 concert.id -->
<div id="concertDetails" data-concert-id="{{ concert.id }}"></div>
{% endblock %}